<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gcv Laytime Calculation</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="timePicker.css">
    <script src="script.js"></script>
    <link rel="stylesheet" href="timePicker.js">
    <script src="jquery-timepicker.js"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.26.0/moment.min.js"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.3/moment.min.js"></script>
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/jquery-datetimepicker/2.5.4/jquery.datetimepicker.min.css" />
</head>


<style id="compiled-css" type="text/css">
    input.dateInput {
        position: relative;
        width: 150px;
        height: 20px;
        color: white;
    }

    input.dateInput:before {
        position: absolute;
        top: 3px;
        left: 3px;
        content: attr(data-date);
        display: inline-block;
        color: black;
    }

    input.dateInput::-webkit-datetime-edit,
    input.dateInput::-webkit-inner-spin-button,
    input.dateInput::-webkit-clear-button {
        display: none;
    }

    input.dateInput::-webkit-calendar-picker-indicator {
        position: absolute;
        top: 3px;
        right: 0;
        color: black;
        opacity: 1;
    }

    /* EOS */
</style>

<body onload="myFunction();">
    <section class="page" id="page1">
        <span class="watermark">GCV</span>
        <!-- heading -->
        <div class="row p-4">
            <div class="col-4 p-0 m-0">
                <img src="./logo.png" alt="logo" width="150">
            </div>
            <div class="col-6 text-center">
                <span class="h4 font-weight-bold">LAYTIME CALCULATION</span>
            </div>
        </div>
        <!-- row1 -->
        <div class="row no-gutters ">
            <div class=" gcvBg" style="width:13%;">
                <span class="font-weight-bold top-font">Vessel</span>
            </div>
            <div class=" " style="width:26%;">
                <span contenteditable class="w-100">----------</span>
            </div>
            <div class=" gcvBg" style="width:13%;">
                <span class="font-weight-bold top-font">CP Date</span>
            </div>
            <div class=" " style="width:26%;">
                <input type="text" class=" w-100 font-weight-bold" data-date="">
            </div>
            <div class=" gcvBg" style="width:12%;">
                <Select class="font-weight-bold" style="width: 100%;font-size: 0.9rem;">
                    <option selected value="0">Owner</option>
                    <option selected value="1">Seller</option>
                    <option value="2">Shipper</option>
                </Select>
            </div>
            <div class=" " style="width:10%;">
                <span contenteditable class="top-font">----------</span>
            </div>
        </div>
        <!-- row 2 -->
        <div class="row no-gutters">
            <div class=" gcvBg" style="width:13%;">
                <Select id="portselection" class="font-weight-bold" onchange="portselection()"
                    style="width: 100%;font-size: 0.9rem;">
                    <option selected value="0">Discharge Port</option>
                    <option value="1">Loading Port</option>
                </Select>
            </div>
            <div class="" style="width:26%;">
                <span contenteditable class="top-font">---------</span>
            </div>
            <div class=" gcvBg" style="width:13%;">
                <span class="font-weight-bold top-font">Calculating</span>
            </div>
            <div class="" style="width:26%;">
                <span class="font-weight-bold top-font" contenteditable>00000</span>
            </div>
            <div class=" gcvBg" style="width:12%;">
                <Select class="font-weight-bold" style="width: 100%;font-size: 0.9rem;">
                    <option selected value="0">Buyer</option>
                    <option value="1">Charterer</option>
                </Select>
            </div>
            <div class="" style="width:10%;">
                <span contenteditable class="top-font">----------</span>
            </div>
        </div>
        <!-- row 3 -->
        <div class="row no-gutters">
            <div class=" gcvBg" style="width: 13%;">
                <span class="font-weight-bold" contenteditable>BL Date</span>
            </div>
            <div class="" style="width: 23%;">
                <span><input type="date" class="dateInput w-100" data-date="" data-date-format="DD/MMM/YYYY"
                        value="01-01-1998"></span>
            </div>
        </div>
        <!-- row 4 -->
        <div class="row no-gutters ">
            <div class="gcvBg" style="width: 13%;">
                <span class="font-weight-bold" contenteditable>Quantity</span>
            </div>
            <div class="col-2">
                <span><input type="text" name="" id="quantity" onkeyup="passdatatoid(id,'cargoQty')"
                        onblur="numberfrmt(id)" onfocus="tonumber(id)"></span>
            </div>
            <div class="col-3 ml-1">
                <span>MT of <select style="font-size: 0.9rem;">
                        <option>Clinker</option>
                        <option>Coal</option>
                        <option>Copper Slag</option>
                        <option>GBFS</option>
                        <option>Lime Stone</option>
                        <option>Pet Coke</option>
                    </select>
                </span>
            </div>
        </div>
        <div>


            <div class="row">
                <div class="col-md-4">
                </div>
                <div class="col-md-4 gcvBg">
                    <span>Time</span>
                </div>
                <div class="col-md-4 gcvBg">
                    <span>Date</span>
                </div>
            </div>

            <div class="row mt-2 no-gutters">
                <div class="col-md-4 gcvBg">
                    <span>Vessel Arrived :</span>
                </div>
                <div class="col-md-4 ">
                    <input type="text" placeholder="Time" class="time-picker" style="width: 100%;">
                </div>
                <div class="col-md-4 ">
                    <input type="date" class="dateInput w-100 font-weight-bold" data-date=""
                        data-date-format="DD/MMM/YYYY" value="01-01-1998">
                </div>
            </div>
            <div class="row mt-2  no-gutters">
                <div class="col-md-4 gcvBg">
                    <span>N.O.R. Tendered :</span>
                </div>
                <div class="col-md-4 ">
                    <input type="text" placeholder="Time" class="time-picker" style="width: 100%;">
                </div>
                <div class="col-md-4 ">
                    <input type="date" class="dateInput w-100 font-weight-bold" data-date=""
                        data-date-format="DD/MMM/YYYY" value="01-01-1998">
                </div>
            </div>
            <div class="row mt-2  no-gutters">
                <div class="col-md-4 gcvBg">
                    <span>N.O.R.Accepted :</span>
                </div>
                <div class="col-md-4 ">
                    <input type="text" placeholder="Time" class="time-picker" style="width: 100%;">
                </div>
                <div class="col-md-4 ">
                    <input type="date" class="dateInput w-100 font-weight-bold" data-date=""
                        data-date-format="DD/MMM/YYYY" value="01-01-1998">
                </div>
            </div>
            <div class="row mt-2  no-gutters">
                <div class="col-md-4 gcvBg  ">
                    <span class="font-weight-bold  no-gutters"><span id="commenced">Discharging Commenced</span>
                        :</span>
                </div>
                <div class="col-md-4 ">
                    <input type="text" placeholder="Time" class="time-picker" style="width: 100%;">
                </div>
                <div class="col-md-4 ">
                    <input type="date" class="dateInput w-100 font-weight-bold" data-date=""
                        data-date-format="DD/MMM/YYYY" value="01-01-1998">
                </div>
            </div>
            <div class="row mt-2  no-gutters">
                <div class="col-md-4 gcvBg">
                    <span>Laytime Commences :</span>
                </div>
                <div class="col-md-4 ">
                    <input type="text" placeholder="Time" class="time-picker" style="width: 100%;">
                </div>
                <div class="col-md-4 ">
                    <input type="date" class="dateInput w-100 font-weight-bold" data-date=""
                        data-date-format="DD/MMM/YYYY" value="01-01-1998">
                </div>
            </div>
            <div class="row mt-2  no-gutters">
                <div class="col-md-4 gcvBg">
                    <span class="font-weight-bold  no-gutters"><span id="completed">Discharging Completed</span>
                        :</span>
                </div>
                <div class="col-md-4 ">
                    <input type="text" placeholder="Time" class="time-picker" style="width: 100%;">
                </div>
                <div class="col-md-4 ">
                    <input type="date" class="dateInput w-100 font-weight-bold" data-date=""
                        data-date-format="DD/MMM/YYYY" value="01-01-1998">
                </div>
            </div>
            <div class="row mt-2  no-gutters">
                <div class="col-md-4 gcvBg">
                    <span>Cargo Quantity</span>
                </div>
                <div class="col-md-4 ">
                    <input type="text" id="cargoQty" onblur="numberfrmt(id)" onfocus="tonumber(id)"
                        onkeyup="convertdecimaldaystotime(id,'dischargeRate','layTimeAllowed')" />
                </div>
                <div class="col-md-4 ">
                    <span>MT</span>
                </div>
            </div>
            <div class="row mt-2 no-gutters">
                <div class="col-md-4 gcvBg">
                    <span id="rpd">Discharge rate per day</span>
                </div>
                <div class="col-md-4 ">
                    <input type="text" id="dischargeRate" onblur="numberfrmt(id)" onfocus="tonumber(id)"
                        onkeyup="convertdecimaldaystotime('cargoQty',id,'layTimeAllowed')" />
                </div>
                <div class="col-md-4 ">
                    <span></span>
                </div>
            </div>
            <div class="row mt-2  no-gutters">
                <div class="col-md-4 gcvBg">
                    <span>Laytime Allowed</span>
                </div>
                <div class="col-md-4 ">
                    <input type="text" name="" id="layTimeAllowed" readonly />
                </div>
                <div class="col-md-2 ">
                    <input type="text" name="" id="layTimeDays" readonly />
                </div>
                <div class="col-md-2">
                    Days
                </div>
            </div>
            <div class="row mt-4  no-gutters">
                <div class="col-md-4 gcvBg mr-2 ml-1">
                    <input type="text" name="" id="Demurage" value="Demurage" readonly />
                    <!-- <span>Demurage</span> -->
                </div>
                <div class="col-md-2 gcvBg">
                    <span>USD/Day</span>
                </div>
                <div class="col-md-2 ">
                    <input type="text" name="" id="Demurageamnt" onchange="Despatchcalc()" onfocus="tonumber(id)" />
                </div>
            </div>
            <div class="row mt-2  no-gutters">
                <div class="col-md-4 gcvBg mr-2 ml-1">
                    <input type="text" name="" id="Despatch" value="Despatch" readonly />
                    <!-- <span>Despatch</span> -->
                </div>
                <div class="col-md-2 gcvBg">
                    <span>USD/Day</span>
                </div>
                <div class="col-md-2 ">
                    <input type="text" name="" id="Despatchamnt" readonly />
                </div>
            </div>


            <div class="row noPrint p-4">
                <div class="col-12 ">
                    <!-- <input type="button" class="btn btn-green addRow btn-sm float-right m-2" value="Add Row"
                        onclick="addRow('dataTable')" /> -->
                    <!-- <input type="button" class="btn btn-secondary btn-sm float-right m-2" value="Delete Row"
                        onclick="deleteRow('dataTable')" /> -->
                </div>
            </div>

            <table id="dataTable" style="width: 100%;" class="text-center">
                <thead class="gcvBg">
                    <tr class="text-center ">
                        <th></th>
                        <th style="width: 15%;">From</th>
                        <th style="width: 15%;">To</th>
                        <th style="width: 10%;">Days</th>
                        <th style="width: 10%;">Laytime Used<br>DD:HH:MM</th>
                        <th style="width: 15%;">Time to count<br>in %</th>
                        <th style="width: 10%;">Actual Time<br>DD:HH:MM </th>
                        <th style="width: 11%;">Total Time Used<br>DD:HH:MM</th>
                        <th style="width: 14%;" colspan="2">Description and Remarks</th>
                    </tr>
                </thead>
                <tbody class="gcvBg">
                    <tr>
                        <td>
                            <input type="button" class="chk" id="chk0" />
                        </td>
                        <td><input type="text" class="datetimepicker text-left" id="day10"
                                onchange="calculateDateDiff(id)" class="from"></td>
                        <td><input type="text" class=" datetimepicker text-left" id="day20"
                                onchange="calculateDateDiff(id)" class="to"></td>
                        <td><input type="text" id="days0" class="text-left"></td>
                        <td><input type="text" id="layTime0" class="text-left"></td>
                        <td><input type="text" class="text-left" value="100" onkeyup="percentageCalculation(id)"
                                id="percentage0"></td>
                        <td><input type="text" id="actualTime0" class="text-left"></td>
                        <td><input type="text" id="totalTime0" class="text-left"></td>
                        <td>
                            <textarea rows="1" id="description0" cols="10" class="expand"></textarea>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table id="totalcvalue" style="width: 100%;" class="text-center">
                <thead>
                    <tr>
                        <th></th>
                        <th style="width: 15%;"></th>
                        <th style="width: 15%;"></th>
                        <th style="width: 10%;"></th>
                        <th style="width: 10%;"></th>
                        <th style="width: 15%;"></th>
                        <th style="width: 10%;"></th>
                        <th style="width: 11%;"></th>
                        <th style="width: 14%;" colspan="2"></th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="page-break-avoid">
                        <td>

                        </td>
                        <td width="15%"></td>
                        <td width="15%"></td>
                        <td width="10%"></td>
                        <td width="10%"></td>
                        <td width="15%"><span class="text-center">Total Time
                                Used </span></td>
                        <td width="10%">&nbsp;</td>
                        <td width="11%" style="padding: 0px !important;"><input type="text" id="Totaltimeused"
                                class="text-center" readonly></td>
                        <td width="14%" colspan="2" style="padding: 0px !important;"><span
                                style="display: flex;justify-content: flex-end;width: 100% !important;"><input
                                    type="text" id="Totaltimeuseddecumal" readonly>Days</span></td>
                    </tr>
                </tbody>

            </table>
            <!-- foo
            <section class="footer-section">
                <div class="row">
                    <div class="col-3 gcvBg">
                        <span>Actual Time Allowed</span>
                    </div>
                    <div class="col-2">
                        <input type="text" name="" id="Actualtimealloweddecimal" readonly />
                    </div>
                    <div class="col-2">
                        <input type="text" name="" id="Actualtimeallowed" readonly />
                    </div>
                    <div class="col-1">
                        Days
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col-3 gcvBg">
                        <span>Total Time Used</span>
                    </div>
                    <div class="col-2">
                        <input type="text" name="" id="TotalTimeUseddecimal" readonly />
                    </div>
                    <div class="col-2">
                        <input type="text" name="" id="TotalTimeUsed" readonly />
                    </div>
                    <div class="col-1">
                        Days
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col-3 gcvBg">
                        <span class="font-weight-bold"> Time Lost</span>
                    </div>
                    <div class="col-2">
                        <input type="text" name="" id="TimeLostdecimal" readonly />
                    </div>
                    <div class="col-2">
                        <input type="text" name="" id="TimeLost" readonly />
                    </div>
                    <div class="col-1">
                        Days
                    </div>
                </div>
                <div class="row  mt-2">
                    <div class="col-2">
                        <input id="demuragedispatch" readonly />
                    </div>
                    <div class="col-1  text-center">
                        <span>for</span>
                    </div>
                    <div class="col-2">
                        <input type="text" name="" id="TimeLostdecimallastrow" readonly />
                    </div>
                    <div class="col-1">
                        Days
                    </div>
                    <div class="col-1">
                        USD
                    </div>
                    <div class="col-2">
                        <input type="text" name="" id="demuragedispatchamnt" readonly />
                    </div>
                    <div class="col-1" contenteditable>
                        <span style="font-size:8px;" class="font-weight-bold">PerDay</span>
                    </div>
                    <div class="col-2">
                        USD<input type="text" class="w-75" name="" id="Finalamountcalculation" readonly />
                    </div>
                </div>
            </section> -->



        </div>

        <style>
            tr>td {
                font-size: 0.73rem;
            }
        </style>


        <section class="footer-section">

            <table id="dataTable" style="width: 100%;" class="text-center">
                <thead class="">
                    <tr class="text-center ">
                        <th></th>
                        <th style="width: 15%;"></th>
                        <th style="width: 15%;"></th>
                        <th style="width: 10%;"></th>
                        <th style="width: 10%;"></th>
                        <th style="width: 15%;"></th>
                        <th style="width: 10%;"></th>
                        <th style="width: 11%;"></th>
                        <th style="width: 14%;" colspan="2"></th>
                    </tr>
                </thead>
                <tbody class="">
                    <tr class="page-break-avoid mt-2">
                        <td>
                        </td>
                        <td width="15%" class="text-left">
                            <span style="white-space: nowrap;">Actual Time Allowed</span>
                        </td>
                        <td width="15%">
                            <input type="text" name="" id="Actualtimealloweddecimal" readonly />
                        </td>
                        <td width="10%"></td>
                        <td width="10%">
                            <input type="text" name="" id="Actualtimeallowed" readonly />
                        </td>
                        <td width="15%"><span class="text-center">Days</span></td>
                        <td width="10%"><span class="text-center"></span></td>
                        <td width="11%" style="padding: 0px !important;">
                        </td>
                        <td width="14%" colspan="2" style="padding: 0px !important;">
                        </td>
                    </tr>
                    <tr class="page-break-avoid mt-2">
                        <td>
                        </td>
                        <td width="15%" class="text-left">
                            <span>Total Time Used</span>
                        </td>
                        <td width="15%">
                            <input type="text" name="" id="TotalTimeUseddecimal" readonly />
                        </td>
                        <td width="10%"></td>
                        <td width="10%">
                            <input type="text" name="" id="TotalTimeUsed" readonly />
                        </td>
                        <td width="15%"><span class="text-center">Days</span></td>
                        <td width="10%"><span class="text-center"></span></td>
                        <td width="11%" style="padding: 0px !important;">

                        </td>
                        <td width="14%" colspan="2" style="padding: 0px !important;">
                        </td>
                    </tr>
                    <tr class="page-break-avoid mt-2">
                        <td>
                        </td>
                        <td width="15%" class="text-left">
                            <input class="text-left w-75 ml-1" id="timebased" readonly value="Time Lost" />
                        </td>
                        <td width="15%">
                            <input type="text" name="" id="TimeLostdecimal" readonly />
                        </td>
                        <td width="10%"></td>
                        <td width="10%">
                            <input type="text" name="" id="TimeLost" readonly />
                        </td>
                        <td width="15%"><span class="text-center">Days</span></td>
                        <td width="10%"><span class="text-center"></span></td>
                        <td width="11%" style="padding: 0px !important;">

                        </td>
                        <td width="14%" colspan="2" style="padding: 0px !important;">
                        </td>
                    </tr>

                    <!-- <tr class="page-break-avoid ">
                        <td>
                        </td>
                        <td width="15%">
                            <input class="text-center w-75" id="demuragedispatch" readonly />
                        </td>
                        <td width="10%">
                            <span style="width:15%;">for</span>
                        </td>
                        <td width="5%"></td>
                        <td width="5%">
                            <input id="TimeLostdecimallastrow" class="w-75" readonly />
                        </td>
                        <td width="10%"><span style="width: 10% !important;" class="text-left">Days</span></td>
                        <td width="10%"><span class="text-left">USD</span></td>
                        <td width="6%" style="padding: 0px !important;align-items: flex-start;">
                            <input type="text" class="text-center w-50" id="demuragedispatchamnt" readonly />
                        </td>
                        <td width="34%" colspan="2" style="padding: 0px !important;"><span
                                style="display: flex;justify-content: flex-end;width: 100% !important;white-space: nowrap;">
                                Per Day USD <input type="text" class="w-75" name="" id="Finalamountcalculation"
                                    readonly />
                            </span>
                        </td>
                    </tr> -->
                </tbody>
            </table>
            <div class="d-flex justify-content-between">
                <input class="text-left w-75 ml-2" id="demuragedispatch" readonly value="Demurage" />
                <span style="width:100%;" class="text-center">for</span>
                <span style="width: 20% !important;"></span>
                <input id="TimeLostdecimallastrow" class="w-100" readonly />
                <span style="width: 10% !important;" class="text-left ml-3">Days</span>
                <span class="text-left">USD</span>
                <input type="text" class="text-center w-50" id="demuragedispatchamnt" readonly />
                <span style="white-space:nowrap;"> Per Day USD </span>
                <input type="text" class="w-75" name="" id="Finalamountcalculation" readonly />
            </div>
        </section>

    </section>
    <!-- <section class="page" style="margin-top: 0%;z-index: -9999999;padding-top: 5%;"></section> -->

    <button class="noPrint printbtn h3" onclick="window.print()"><i class="fa fa-print"></i></button>

    <script type="text/javascript">//<![CDATA[


        $(".dateInput").on("change", function () {
            this.setAttribute(
                "data-date",
                moment(this.value, "YYYY-MM-DD")
                    .format(this.getAttribute("data-date-format"))
            )
        }).trigger("change")


        function myFunction() {
            var date = document.getElementsByClassName('dateInput');
            for (var i = 0; i < date.length; i++) {
                date[i].setAttribute("data-date",
                    moment(moment().format('YYYY-MM-DD'), "YYYY-MM-DD")
                        .format(date[i].getAttribute("data-date-format")))
            }

        }

          //]]></script>
    <script>
        $().ready(function (e) {

            $(".time-picker").hunterTimePicker();
            console.log($(".time-picker").val());

            const sampleTextarea = document.querySelector('.expand');
            console.log(sampleTextarea);
            sampleTextarea.addEventListener('input', () => {
                sampleTextarea.style.height = "20px";
                sampleTextarea.style.height = sampleTextarea.scrollHeight + "px";
            })




        });



    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/jquery-datetimepicker/2.5.4/build/jquery.datetimepicker.full.min.js"></script>

</body>

</html>